!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(this,function(){return webpackJsonp([0],{10:function(e,t,n){n(4),e.exports=n(3)},4:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),s=o(c),u=n(2),d=o(u),p=n(1),f=o(p),m=n(7),h=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={todoList:[]},n.addNewItem=n.addNewItem.bind(n),n.fetchTodosFromServer=n.fetchTodosFromServer.bind(n),n}return l(t,e),i(t,[{key:"fetchTodosFromServer",value:function(){var e=this;f.default.ajax({type:"GET",url:"/todos?name="+e.props.name,datatype:"json",success:function(t,n,o){e.setState({todoList:t.todoList})},error:function(e,t,n){console.log(n)}})}},{key:"componentDidMount",value:function(){console.log("this function called after render"),this.fetchTodosFromServer()}},{key:"addNewItem",value:function(){console.log("new item added");var e=document.getElementById("todo-input"),t=this;f.default.ajax({type:"POST",url:"/createtodo",data:{content:e.value,name:t.props.name},datatype:"json",success:function(e){console.log(e),t.fetchTodosFromServer()},error:function(e,t,n){console.log(n)}}),e.value=""}},{key:"render",value:function(){var e,t=this.state.todoList,n=this,o=t.map(function(e,t){var o=""+new Date(e.date);return s.default.createElement(m.TodoItem,{id:e._id,key:t,content:e.content,name:e.name,date:o,status:e.status,fetchTodosFromServer:n.fetchTodosFromServer})});return e=""===this.props.name?"Please enter your name in the url":"Welcome, "+this.props.name,s.default.createElement("div",null,s.default.createElement("h2",{id:"TodoApp"},e),s.default.createElement("input",{id:"todo-input",type:"text"}),s.default.createElement("button",{onClick:this.addNewItem},"Add new item"),s.default.createElement("div",{id:"todo-list"},o))}}]),t}(s.default.Component),y=document.body.getAttribute("data-name");d.default.render(s.default.createElement(h,{name:y}),document.getElementById("container"))},7:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n(0),u=(n(2),function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isEdit:!1},n.deleteItem=n.deleteItem.bind(n),n.editTodo=n.editTodo.bind(n),n.cancelEdit=n.cancelEdit.bind(n),n.editContent=n.editContent.bind(n),n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){console.log(this.props.id),console.log(this.props.status)}},{key:"deleteItem",value:function(e){var t=this;console.log(t.props),c.default.ajax({type:"POST",url:"/delete",data:{_id:t.props.id},datatype:"json",success:function(e){console.log("successfully sent"),t.props.fetchTodosFromServer()},error:function(e,t,n){console.log(n)}})}},{key:"editTodo",value:function(){console.log("editing!"),this.setState({isEdit:!0})}},{key:"cancelEdit",value:function(){console.log("Editing cancelled"),this.setState({isEdit:!1})}},{key:"editContent",value:function(){var e=this,t=document.getElementById("input"+this.props.id);t.value?c.default.ajax({type:"POST",url:"/edit",data:{_id:e.props.id,content:t.value},datatype:"json",success:function(n){e.setState({isEdit:!1}),document.getElementById("content"+e.props.id).innerHTML=t.value},error:function(e,t,n){console.log(n)}}):alert("Please edit the content")}},{key:"render",value:function(){return!1===this.state.isEdit?s.createElement("div",{className:"panel panel-default"},s.createElement("div",{className:"panel-heading"},s.createElement("h3",{className:"panel-title"},"Status: ",this.props.status)),s.createElement("div",{className:"panel-body"},s.createElement("p",null,s.createElement("strong",null,"Name: "),this.props.name),s.createElement("p",null,s.createElement("strong",null,"Content: "),s.createElement("span",{id:"content"+this.props.id},this.props.content)),s.createElement("p",null,s.createElement("strong",null,"Date: "),this.props.date),s.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.editTodo},"Edit"),s.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.deleteItem},"Delete"))):s.createElement("div",null,s.createElement("p",null,s.createElement("strong",null,"Name: "),this.props.name),s.createElement("p",null,s.createElement("strong",null,"Date: "),this.props.date),s.createElement("input",{id:"input"+this.props.id,type:"text",placeholder:"Type your content here"})," ",s.createElement("br",null),s.createElement("br",null),s.createElement("button",{onClick:this.editContent},"Save"),s.createElement("button",{onClick:this.cancelEdit},"Cancel"))}}]),t}(s.Component));e.exports={TodoItem:u}}},[10])});